# ==========================================
# Core Settings
# ==========================================

# set prefix key
set -g prefix C-a
# Enable mouse support
set -g mouse on

# Use vi key bindings in copy mode
setw -g mode-keys vi


# Set default terminal to support 256 colors
set -g default-terminal "tmux-256color"

# ==========================================
# Window Splitting
# ==========================================

# Split window horizontally with C-\ (no prefix needed)
bind -n C-'\' split-window -h

# Split window vertically with C-S-\ (no prefix needed)
bind -n C-M-'\' split-window -v

# ==========================================
# Window Management
# ==========================================

# Create new window with prefix + \
unbind a
bind a new-window

# Kill pane with Alt-q (safer than C-S-\ which may not work)
bind -n M-q kill-pane

# Kill window with Alt-Shift-Q (safer binding)
bind -n M-Q kill-window

# ==========================================
# Navigation (vim-style, no prefix)
# ==========================================
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Navigate windows with prefix + l/h
bind C-l next-window
bind C-h previous-window



# ==========================================
# Additional Useful Bindings
# ==========================================

# Reload configuration file with prefix + r
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Split windows in same directory
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -hc "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# ==========================================
# Status Bar
# ==========================================

# Update status bar every second
set -g status-interval 1

# Enable status bar
set -g status on

# ==========================================
# Notes
# ==========================================

# If C-S-\ doesn't work:
# 1. Verify your terminal (Ghostty) supports extended keys
# 2. Check if tmux version is 3.2+: tmux -V
# 3. Test with: tmux bind -n TheKey lsk (press the key)
# 4. Use alternative bindings (Alt-q, Alt-Shift-Q) instead
